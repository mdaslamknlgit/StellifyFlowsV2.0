<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 col-sm-12 padding-null tittlediv">
      <div class="flexrow space-between align-center">
      <h3 class="item-heading">Supplier Category </h3> 
      <div>
        <button class="btn  btn-transparent" (click)="addRecord()" *ngIf="hideText && newPermission"> New Record</button>
        <button  class="btn btn-transparent" (clickOutside)="onClickedOutside($event)"    (click)="split()">  {{showfilterstext}}  </button> 
       
      
      <img src="../assets/images/grid1.png" style="display: none;" (click)="showFullScreen()">
      </div>
      </div>
      <!-- <div ngbDropdown placement="bottom-right" style="padding:0px;" class="d-inline-block">
            <button class="btn btn-outline-primary" style="background:none;border:none;padding:0px;" id="dropdownBasic1" ngbDropdownToggle>
                <img src="../assets/images/grid2.png">
            </button>
        </div> -->



        <div class="left-section"     [class.display-filters]="!showfilters">
          <div class="filter-section">
            <div class="left-search">
              <input type="text" [(ngModel)]="suplliercategorySearchKey" placeholder="Search Category..." class="search-filter" (keyup)="onSearch($event)">
              <i class="fa fa-search" aria-hidden="true"></i>
            </div>
            <!-- <div style="float:right" class="filter-icon"><i class="fa fa-filter" aria-hidden="true"></i></div> -->
            <div malihu-scrollbar [scrollbarOptions]="scrollbarOptions" class="filter-scroll" style="width:100%; float:left;">
              <table class="table">
                <tr>
                  <td (click)="hidefilter()" style="padding: 0px;">


                    <table class="listtable">
                      <tr>
                        <th>Category Name </th>
                        <th>Description</th>  
                      </tr>
                      <tr   [class.activerow]="record.SupplierCategoryID==selectedSupplierCategory.SupplierCategoryID" (click)="onRecordSelection(record.SupplierCategoryID)"
                      *ngFor="let record of supplierCategoriesList">
                          <td>{{record.CategoryText }}</td>
                          <td>{{ record.Description | slice:0:50}}
                            <span *ngIf="record.Description!= null && record.Description.length>50">...</span></td>
                            
                           
                      </tr>
                  </table>


                   
                  
  
                    <label class="label-value">
                    </label>
                  </td>
                </tr>
              </table>
              <div *ngIf="supplierCategoriesList.length==0" class="col-12 error listErrorMessage">
                {{errorMessage}}
              </div>
              
            </div>
            <ngb-pagination [maxSize]="5" *ngIf="supplierCategoriesList.length>0" (pageChange)="pageChange($event)" [collectionSize]="supplierCategoryListPagerConfig.TotalRecords"
              class="d-flex justify-content-center" [pageSize]="supplierCategoryListPagerConfig.RecordsToFetch" [page]="1"
              [boundaryLinks]="true"></ngb-pagination>
          </div>
        </div>





    </div>
  </div>
  <div class="row">
 
    <div class="col-lg-12 col-md-12" [class.expand-rightcol]="rightsection">
      <div #rightPanel class="rightPanel">
        <div class="fullScreenLabel">
          <app-header></app-header>
        </div>
        <form [formGroup]="supplierCategoryForm" class="form-horizontal">
          <div malihu-scrollbar [scrollbarOptions]="scrollbarOptions" class="rightcol-scrroll">
            <div class="row fullScreenLabel">
              <div class="col-12">
                <h3 class="item-heading" style="float:none;">Supplier Category</h3>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-form-label col-xl-2 col-sm-6 col-12 form-label">Name
                <i class="fa fa-star mandatory-icon" *ngIf="hideInput" aria-hidden="true"></i>
              </label>
              <div class="col-xl-4 col-sm-6 col-12">
                <input type="text" appAutofocus formControlName="CategoryText" *ngIf="hideInput" class="form-control">
                <label class="col-form-label  form-text" *ngIf="hideText">
                  <b style="color:#01548e">{{ selectedSupplierCategory.CategoryText }}</b>
                </label>
                <div *ngIf="hideInput &&supplierCategoryForm.get('CategoryText') && supplierCategoryForm.get('CategoryText').errors!=null && supplierCategoryForm.get('CategoryText').touched==true">
                  <span class="errorMessage" *ngIf="supplierCategoryForm.get('CategoryText').errors.required">Name is required</span>
                  <span class="errorMessage" *ngIf="supplierCategoryForm.get('CategoryText').errors.Duplicate">Duplicate Supplier Category Name</span>
                </div>
              </div>
            </div>
            <h4 class="form-heading">Details</h4>
            <div class="form-group row">
              <label class="col-form-label col-xl-2 col-sm-6 col-12 form-label">Description
                <i class="fa fa-star mandatory-icon" *ngIf="hideInput" aria-hidden="true"></i>
              </label>
              <div class="col-xl-4 col-sm-6 col-12">
                <textarea formControlName="Description" rows="4" cols="50" *ngIf="hideInput" class="form-control">
                </textarea>
                <label *ngIf="hideText" class="col-form-label descriptionStyle" [innerHtml]="selectedSupplierCategory.Description|TextAreaContentDisplay"></label>
              </div>
            </div>
          </div>
          <div class="form-group text-right btn-list">
            <button type="submit" (click)="saveRecord()" class="btn btn-save" *ngIf="hideInput">
              <i class="fa fa-check" aria-hidden="true"></i> Save</button>
            <button type="submit" (click)="cancelRecord()" class="btn btn-cancel" *ngIf="hideInput">
              <i class="fa fa-ban" aria-hidden="true"></i> Cancel</button>
            <button type="submit" (click)="editRecord()" class="btn btn-edit" *ngIf="hideText && editPermission">
              <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</button>
            <button type="submit" (click)="deleteRecord()" class="btn btn-delete" *ngIf="hideText && deletePermission">
              <i class="fa fa-trash-o" aria-hidden="true"></i> Delete</button>
          </div>
        </form>

        <p-confirmDialog></p-confirmDialog>
      </div>
    </div>
    <!-- left col end here-->
  </div>
</div>


<ng-template #filters>
  <div class="flter-popover">

    <form [formGroup]="signupForm" class="form-horizontal" (ngSubmit)="onSubmit()">

      <div class="form-group row">
        <label class="col-form-label col-4 form-label">Name </label>
        <div class="col-8">

          <input type="text" id="orderlevel" name="orderlevel" formControlName="orderlevel" placeholder="Re-Order Level" class="form-control">

        </div>
      </div>
      <div class="form-group row">
        <label class="col-form-label col-4 form-label">Category</label>
        <div class="col-8">

          <input type="text" id="alertqty" name="alertqty" formControlName="alertqty" placeholder="Low Alert Qty" class="form-control">

        </div>
      </div>


    </form>

  </div>
</ng-template>