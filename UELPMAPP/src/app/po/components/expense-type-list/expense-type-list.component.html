<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 col-sm-12 padding-null tittlediv">
      <div class="flexrow space-between align-center">
        <h3 class="item-heading">Expense Type List</h3>
          <hr style="margin-top: 0px;" />
          <!-- <button class="btn  btn-transparent" (click)="addRecord();" *ngIf="hideText"> New Record</button> -->


          <!-- <button class="btn btn-transparent" (clickOutside)="onClickedOutside($event)" (click)="split()">
            {{showfilterstext}} </button> -->
          <img style="display: none;" src="../assets/images/grid1.png" (click)="showFullScreen()">
      </div>
      <div class="left-section1" [class.display-filters]="!showfilters">
        <div class="filter-section">
          <div class="left-search">
            <input type="text" placeholder="Search Expense type..." class="search-filter"
              [(ngModel)]="expenseTypeSearchKey" (keyup)="onSearch($event)">
            <i class="fa fa-search" aria-hidden="true"></i>

          </div>
          
          <div style="float:right;">
            <button type="button" (click)="resetFilters()" class="btn btn-save">
              <i class="fa fa-refresh" aria-hidden="true"></i> Reset</button>

              &nbsp;&nbsp;
              <button class="btn btn-save ng-star-inserted" type="button" (click)="addRecord()">
                <i class="fa fa-plus" ria-hidden="true" aria-hidden="true"></i> New</button>

            </div>
          <!-- <div style="float:right" class="filter-icon"><i class="fa fa-filter" aria-hidden="true"></i></div> -->
          <div malihu-scrollbar [scrollbarOptions]="scrollbarOptions" class="filter-scroll"
            style="width:100%; float:left;">
            <!-- Table Removed -->
            <!-- <table class="table">
              <tr>
                <td (click)="hidefilter()" style="padding: 0px;">
                  <table class="listtable">
                    <tr>
                      <th>Record Name </th>
                      <th>Description</th>
                    </tr>
                    <tr (click)="onRecordSelection(record.ExpenseTypeId)" *ngFor="let record of expenseTypeList">
                      <td>{{ record.ExpenseTypeName }}</td>
                      <td>{{ record.ExpenseTypeDescription | slice:0:50}}
                        <span *ngIf="record.ExpenseTypeDescription!= null && record.ExpenseTypeDescription.length>50">...</span>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table> -->
            <p-table #PurchaseOrderListTable dataKey="ExpenseTypeId" [rowHover]="true" [filterDelay]="0"
            [globalFilterFields]="['ExpenseTypeName', 'ExpenseTypeName']" [columns]="expenseTypeListCols"
            [value]="expenseTypeList" [rows]="1" [scrollable]="true"
            [scrollHeight]="'calc(100vh - 260px)'" scrollWidth="100%" [virtualRowHeight]="30"
            [virtualScroll]="true" sortMode="multiple" responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                <!-- <div class="table-header">
                                                    List of Purchase Orders
                                                    <span class="p-input-icon-left">
                                                        <i class="pi pi-search"></i>
                                                        <input pInputText type="text" (input)="PurchaseOrderListTable.filterGlobal($event.target.value, 'contains')"
                                                            placeholder="Global Search" />
                                                    </span>
                                                </div> -->
            </ng-template>

            <ng-template pTemplate="header" let-columns>
                <tr style="height: 40px;">
                    <th *ngFor="let col of expenseTypeListCols;let i=index"
                        [pSortableColumn]="col.field">
                        {{col.header}}
                        <p-sortIcon [hidden]="i==0" *ngIf="i!=expenseTypeListCols.length-1"
                            [field]="col.field"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="colgroup" let-columns>
                <colgroup>
                    <col *ngFor="let col of columns" [style.width]="col.width">
                </colgroup>
            </ng-template>
            <ng-template pTemplate="body" let-value let-columns let-i="rowIndex">
                <tr style="height:30px" [pSelectableRow]="rowData">
                    <td>{{value.ExpenseTypeName}}</td>
                    <td>{{value.ExpenseTypeDescription }}</td>
                    <td class="aligncenter">
                        <button type="button" class="btn"
                            (click)="RedirectExpenseType(value.ExpenseTypeId)">
                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                        </button>
                    </td>
                </tr>

            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.colspan]="expenseTypeList.length">
                        No records found
                    </td>
                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="emptymessage">
                <div class="col-12 error errorMessage">
                    <p class="errorMessage">
                        {{filterMessage}}
                    </p>
                </div>
            </ng-template> -->
        </p-table>

            <div *ngIf="expenseTypeList.length==0" class="col-12 error listErrorMessage">
              {{errorMessage}}
            </div>

          </div>
          <div style="clear: both;"></div>
          <!-- <ngb-pagination [maxSize]="5" *ngIf="expenseTypeList.length>0" (pageChange)="pageChange($event)"
            [collectionSize]="expenseTypeListPagerConfig.TotalRecords" class="d-flex justify-content-center"
            [pageSize]="expenseTypeListPagerConfig.RecordsToFetch" [page]="1" [boundaryLinks]="true"></ngb-pagination> -->
        </div>
      </div>

    </div>
  </div>

</div>


<ng-template #filters>
  <div class="flter-popover">

    <form [formGroup]="signupForm" class="form-horizontal" (ngSubmit)="onSubmit()">

      <div class="form-group row">
        <label class="col-form-label col-4 form-label">Name </label>
        <div class="col-8">

          <input type="text" id="orderlevel" name="orderlevel" formControlName="orderlevel" placeholder="Re-Order Level"
            class="form-control">

        </div>
      </div>
      <div class="form-group row">
        <label class="col-form-label col-4 form-label">Category</label>
        <div class="col-8">

          <input type="text" id="alertqty" name="alertqty" formControlName="alertqty" placeholder="Low Alert Qty"
            class="form-control">

        </div>
      </div>
    </form>
  </div>
</ng-template>