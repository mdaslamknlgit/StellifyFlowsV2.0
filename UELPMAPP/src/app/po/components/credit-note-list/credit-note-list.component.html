<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 col-sm-12 padding-null tittlediv">
      <div class="flexrow space-between align-center">
      <h3 class="item-heading">  {{ moduleHeading }} List </h3>
    
      <div>

      <!-- <button type="submit" class="btn btn-transparent" (click)="AddNewCreditNote()" *ngIf="AddPermission">
        <i class="fa fa-plus" ria-hidden="true"></i> Add New</button> -->

        <button class="btn btn-save ng-star-inserted" type="button" (click)="AddNewCreditNote()" *ngIf="AddPermission">
          <i class="fa fa-plus" ria-hidden="true" aria-hidden="true"></i> New</button>
      </div>

    </div>
    </div>
  </div>
  <div class="rightPanel1"> 
  <div class="row">
    <div class="col-sm-12">
      <form [formGroup]="FiltersForm">
        <div class="form-group mdblock" style="display: flex;justify-content:space-between; align-items:center;">
         
          <div   style="margin: 4px 0px; display: flex;align-items:center; column-gap: 10px;">
            <label  class="col-form-label" style="margin: 4px 0px;white-space: nowrap;  ">
              Document Code</label> <input formControlName="DocumentCode" type="text" class="form-control" />
          </div>
        
          <div  style="margin: 4px 0px;display: flex;align-items:center;column-gap: 10px">
            <label class="col-form-label" style="margin: 4px 0px;white-space: nowrap;">
              Invoice Code</label> <input formControlName="InvoiceCode" type="text" class="form-control" />
          </div>
       
          <div   style="margin: 4px 0px;display: flex;align-items:center;column-gap: 10px">
            <label class="col-form-label " style="margin: 4px 0px; white-space: nowrap;">
              Supplier Name</label>  <input type="text" formControlName="SupplierName" class="form-control"
              [inputFormatter]="supplierInputFormater" [ngbTypeahead]="supplierSearch"
              [resultTemplate]="supplierTemplate" />
          </div>

          <!-- From Date & To Date Starts Here -->
          <label class="col-form-label  col form-label">From Date</label>
          <div class=" input-group" style="width: auto;">
              <input style="width: 100px;" class="form-control fromcontrol"
                  formControlName="FromDate" ngbDatepicker #fromDate="ngbDatepicker"
                  [readonly]="true">
              <div class="input-group-append">
                  <button class="btn btn-outline-secondary"
                      (click)="fromDate.toggle();toDate.close()" type="button">
                      <i class="fa fa-calendar" style="cursor: pointer;"></i>
                  </button>
              </div>
          </div>
          <label class="col-form-label col form-label">To Date</label>
          <div class="  input-group" style="width: auto;">
              <input style="width: 100px;" class="form-control" formControlName="ToDate"
                  ngbDatepicker #toDate="ngbDatepicker" [readonly]="true">
              <div class="input-group-append">
                  <button class="btn btn-outline-secondary"
                      (click)="toDate.toggle();fromDate.close()" type="button">
                      <i class="fa fa-calendar" style="cursor: pointer;"></i>
                  </button>
              </div>
          </div>
          <!-- From Date & To Date Ends Here -->
          <div   style="margin: 4px 10px 0px;width: auto;">
            <button type="submit" class="btn btn-save" (click)="FilterData()">
              <i class="fa fa-check" ria-hidden="true"></i> Submit</button>
              &nbsp;&nbsp;
              <button type="submit" (click)="resetFilters()" class="btn btn-save">
                <i class="fa fa-refresh" ria-hidden="true"></i> Reset</button> 
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12">
      <div class="table-responsive" [ngStyle]="{'max-width.px': screenWidth}">
        <!-- <p-table #dt [columns]="cols" [value]="Value" [rows]="1" scrollHeight="270px" [virtualRowHeight]="30"
          [virtualScroll]="true" sortMode="multiple"> -->
          <p-table #PurchaseOrderListTable dataKey="DocumentId" [rowHover]="true" [filterDelay]="0"
          [globalFilterFields]="['DocumentId', 'DocumentCode','SupplierName']" [columns]="CreditNoteCols"
          [value]="CreditNoteLists" [rows]="500" [scrollable]="true"
          [scrollHeight]="'calc(100vh - 330px)'" scrollWidth="100%" [virtualRowHeight]="30" [paginator]="true"
          [virtualScroll]="true" sortMode="multiple" responsiveLayout="scroll">


          <ng-template pTemplate="header" let-columns>
            <tr style="height: 40px;">
              <th *ngFor="let col of CreditNoteCols;let i=index" [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [hidden]="i==0" *ngIf="i!=columns.length-1" [field]="col.field"></p-sortIcon>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="colgroup" let-columns>
            <colgroup>
              <col *ngFor="let col of columns" [style.width]="col.width">
            </colgroup>
          </ng-template>
          <ng-template pTemplate="body" let-value let-columns let-i="rowIndex">
            <tr style="height:30px">
              <td>{{i+1}}</td>
              <td>{{value.DocumentCode}}</td>
              <td>{{value.InvoiceDocumentCode}}</td>
              <td>{{value.SupplierName}}</td>
              <td>{{value.SupplierCreditNoteInvoiceNo}}</td>
              <td>{{value.SupplierCreditNoteNo}}</td>
              <td align="right">{{value.InvoiceTotalAmount | number:'1.2-2'}}</td>
              <!-- <td align="right">{{value.InvoiceOSAmount | number:'1.2-2'}}</td> -->
              <td align="right">{{value.CreditNoteTotal | number:'1.2-2'}}</td>
              <td>{{value.CreatedDate | date: 'yyyy-MM-dd'}}</td>
              <td>{{value.WorkFlowStatus}}</td>
              <td>
                <button type="button" (click)="CreditNotepage(value.DocumentId)" class="btn">
                  <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>
</div>
<ng-template #supplierTemplate let-r="result" let-t="term">
  {{ r.SupplierName }}
</ng-template>